<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:of="http://omnifaces.org/functions">
    <body>
        <ui:composition template="./../../Template/plantilla.xhtml">

            <ui:define name="content">
                <p:growl id="messages"  showDetail="true" />
                <c:if test="#{autorizationBean.hasAccess('paneldocumentos') == true}">
                    <f:event type="preRenderView" listener="#{documentosBean.listarCompartidos(null)}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosEnviados()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosPorVencer()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosPrestados()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosRecibidos()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosSinArchivar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarDocumentosPorEnviar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarActasPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarCartasPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarCertificadosPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarCircularesPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarComunicadosPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarConstanciaPorFirmar()}"></f:event>
                    <f:event type="preRenderView" listener="#{documentosBean.listarInformesPorFirmar()}"></f:event>
                    <div class="col-md-12 col-xs-12">
                        <div class="col-xs-12 x_panel">
                            <div class="x_title">
                                <h2>Gestión de documentos</h2>
                                <div class="clear"></div>
                            </div>
                            <div class='x_content'> 
                                <ul class="nav nav-tabs">
                                    <li class="active"><a data-toggle="tab" href="#menuTab0">Entrantes</a></li>
                                    <c:if test="#{autorizationBean.canCreate('recepcion')== false}">
                                        <li><a data-toggle="tab" href="#menuTab1" style="display: none;">Por Enviar</a></li>
                                        <li><a data-toggle="tab" href="#menuTab2" style="display: none;">Enviados</a></li>
                                    </c:if>
                                    <c:if test="#{autorizationBean.canCreate('recepcion')== true}">
                                        <li><a data-toggle="tab" href="#menuTab1">Por Enviar</a></li>
                                        <li><a data-toggle="tab" href="#menuTab2">Enviados</a></li>
                                    </c:if>
                                    <li><a data-toggle="tab" href="#menuTab3">En Prestamo</a></li>
                                    <li><a data-toggle="tab" href="#menuTab4">Por Vencer</a></li>
                                    <li><a data-toggle="tab" href="#menuTab5">Por Firmar</a></li>
                                    <li><a data-toggle="tab" href="#menuTab6">Por Archivar</a></li>
                                    <li><a data-toggle="tab" href="#menuTab7">Compartidos</a></li>
                                    <!--<button data-toggle="collapse" data-target="#Collapse" class="btn btn-success pull-right"><span class="glyphicon glyphicon-filter" aria-hidden="true"></span></button>-->
                                </ul>
                                <div class="tab-content">
                                    <div id="menuTab0" class="col-xs-12 tab-pane fade in active"> 
                                        <h:form id="entrantes" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="entrantes" id="lstDocsEntrantes" var="docsEntrantes" value="#{documentosBean.recibidos}" style="margin-bottom:0" rows="15"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15,30,50"  emptyMessage="¡No se encontraron documentos entrantes!"
                                                         sortBy="#{docsEntrantes.id}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsEntrantes" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docsEntrantes.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsEntrantes.fechaCreacion}" >
                                                        <f:convertDateTime type="date" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Tipo Documento">
                                                    <h:outputText value="#{docsEntrantes.tipoDocumento.nombre}" />
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsEntrantes.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsEntrantes.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsEntrantes.destinatario.nombres} #{docsEntrantes.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsEntrantes.detalle}" />
                                                </p:column>
                                                <p:column headerText="Comentarios" style="text-align: center;">
                                                    <h:outputText value="#{comentarioBean.coutComents(docsEntrantes)}" />
                                                </p:column>
                                                <p:column headerText="Acciones" width="150">
                                                    <p:commandLink type="button" title="Responder" action="#{cartaBean.loadDocumento(docsEntrantes)}" disabled="#{not docsEntrantes.tipoDocumento.requiereRespuesta}" update=":dlgResponder"><span class="glyphicon fa fa-fw fa-reply" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{documentViewerBean.showDocument(docsEntrantes)}" update=":dlgVisor" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Prestamo" action="#{prestamoBean.loadDocumento(docsEntrantes)}" update=":dlgPrestamo :enPrestamo"><span class="glyphicon fa fa-fw fa-share-alt" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadDocumento(docsEntrantes)}" ><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"/></p:commandLink>                                               
                                                    <p:commandLink type="button" title="Redireccionar" action="#{redireccionarBean.loadDocumento(docsEntrantes)}" update=":dlgDevolver"  ><span class="glyphicon fa fa-fw fa-random" aria-hidden="true"/></p:commandLink>
                                                </p:column>
                                            </p:dataTable> 
                                        </h:form>
                                    </div>
                                    <div id="menuTab1" class="col-xs-12 tab-pane fade in inactive">
                                        <h:form id="porEnviar" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="porEnviar" id="lstDocsPorEnviar" var="docPorEnviar" value="#{documentosBean.porEnviar}" style="margin-bottom:0" 
                                                         emptyMessage="¡No se encontraron documentos entrantes!" rows="10"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15" 
                                                         sortBy="#{docPorEnviar.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsPorEnviar" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Consecutivo">
                                                    <h:outputText value="#{docPorEnviar.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docPorEnviar.radicadoEnvio}" />
                                                </p:column>

                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docPorEnviar.fechaCreacion}" >
                                                        <f:convertDateTime type="date" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Tipo Documento">
                                                    <h:outputText value="#{docPorEnviar.tipoDocumento.nombre}" />
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docPorEnviar.asunto}" />
                                                </p:column>
                                                <p:column headerText="Destinatario">
                                                    <h:outputText value="#{docPorEnviar.remitenteExteno}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docPorEnviar.destinatario.nombres} #{docPorEnviar.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docPorEnviar.detalle}" />
                                                </p:column>
                                                <p:column headerText="Transportador">
                                                    <h:outputText value="#{docPorEnviar.transportador.nombre}" />
                                                </p:column>
                                                <p:column headerText="Medio de Envío">
                                                    <h:outputText value="#{docPorEnviar.medioEnvio.nombre}" />
                                                </p:column>
                                                <p:column headerText="Acciones" width="90">
                                                    <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();" action="#{documentViewerBean.showDocument(docPorEnviar)}" update=":dlgVisor" onsuccess="PF('statusDialog').hide()" ><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Completar" action="#{envioBean.loadDocumento(docPorEnviar)}"  rendered="#{docPorEnviar.radicadoEnvio eq null}"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                    <div id="menuTab2" class="col-xs-12 tab-pane fade in inactive">
                                        <h:form id="enviados" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="Enviados" id="lstDocsEnviados" var="docsEnviados" value="#{documentosBean.enviados}" style="margin-bottom:0" 
                                                         rows="10"  paginator="true"  
                                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron documentos enviados!" 
                                                         sortBy="#{docsEnviados.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsEnviados" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Consecutivo">
                                                    <h:outputText value="#{docsEnviados.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsEnviados.fechaCreacion}" >
                                                        <f:convertDateTime type="date" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsEnviados.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsEnviados.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsEnviados.destinatario.nombres} #{docsEnviados.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsEnviados.detalle}" />
                                                </p:column>
                                                <p:column headerText="Medio de Envio">
                                                    <h:outputText value="#{docsEnviados.medioEnvio.nombre}" />
                                                </p:column>
                                                <p:column headerText="Adjuntar Guía">  
                                                    <h:form enctype="multipart/form-data">                                                        
                                                        <p:fileUpload fileUploadListener="#{documentosBean.cargarGuia}" mode="advanced"
                                                                      update="enviados :messages, rutaGuia" auto="true" sizeLimit="52428800" allowTypes="/(\.|\/)(gif|jpe?g|png|doc|docx|xls|xlsx|pdf)$/"
                                                                      oncomplete="display: none" label="">
                                                            <f:attribute name="consecutivo" value="#{docsEnviados.consecutivo}" />
                                                        </p:fileUpload> 
                                                        <h:outputText id="rutaGuia" value="#{docsEnviados.rutaGuia}"/>
                                                    </h:form>                                                    
                                                </p:column>
                                                <p:column headerText="Adjuntar Comprobante de Entrega"> 
                                                    <h:form enctype="multipart/form-data">
                                                        <p:fileUpload disabled="#{docsEnviados.medioEnvio.nombre == 'Entrega Directa'}" fileUploadListener="#{documentosBean.cargarComprobante}" mode="advanced"
                                                                      update="enviados :messages, rutaComprobante " auto="true" sizeLimit="52428800" allowTypes="/(\.|\/)(gif|jpe?g|png|doc|docx|xls|xlsx|pdf)$/"
                                                                      oncomplete="disabled:true;" label="">
                                                            <f:attribute name="consecutivo" value="#{docsEnviados.consecutivo}" />
                                                        </p:fileUpload> 
                                                        <h:outputText id="rutaComprobante" value="#{docsEnviados.rutaComprobante}"/>
                                                    </h:form>
                                                </p:column>
                                                <p:column headerText="Acciones">
                                                    <p:commandLink type="button" disabled="#{docsEnviados.rutaComprobante == null}" title="Archivar" action="#{archivarBean.loadDocumento(docsEnviados)}" update=":dlgArchivar"><span class="glyphicon fa fa-fw fa-folder" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();"  action="#{documentViewerBean.showDocument(docsEnviados)}" update=":dlgVisor" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Prestamo" action="#{prestamoBean.loadDocumento(docsEnviados)}" update=":dlgPrestamo :enPrestamo"><span class="glyphicon fa fa-fw fa-share-alt" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadDocumento(docsEnviados)}" ><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"/></p:commandLink>                                                        
                                                </p:column>                                               
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                    <div id="menuTab3" class="col-xs-12 tab-pane fade">
                                        <h:form id="enPrestamo" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="En Prestamos" id="lstControl" var="docsPrestamo" value="#{documentosBean.prestamo}" style="margin-bottom:0" rows="10"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron documentos en prestamo!"
                                                         sortBy="#{docsPrestamo.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstControl" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docsPrestamo.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsPrestamo.fechaCreacion}" >
                                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsPrestamo.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsPrestamo.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsPrestamo.destinatario.nombres} #{docsPrestamo.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsPrestamo.detalle}" />
                                                </p:column>
                                                <p:column headerText="Acciones">
                                                    <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();" action="#{documentViewerBean.showDocument(docsPrestamo)}" update=":dlgVisor" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <a href="#" type="button" title="Devolver" onclick="PF('denReintegro').show()"><span class="fa fa-fw fa-rotate-left" aria-hidden="true"></span></a>                                                 
                                                    <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadDocumento(docsPrestamo)}" ><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"/></p:commandLink>                                               
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                    <div id="menuTab4" class="col-xs-12 tab-pane fade">
                                        <h:form id="porVencer" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="PorVencer" id="lstDocsPorVencer" var="docsPorVencer" value="#{documentosBean.porVencer}" style="margin-bottom:0" rows="50"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15,20,30,50" emptyMessage="¡No se encontraron documentos por vencer!" 
                                                         sortBy="#{docsPorVencer.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsPorVencer" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Estado" width="60">
                                                    <ui:fragment rendered="#{dateTimeBean.DaysBettwen(docsPorVencer.fechaVencimiento, now) gt 3 }">
                                                        <span class="status status-green"></span>
                                                    </ui:fragment>
                                                    <ui:fragment rendered="#{dateTimeBean.DaysBettwen(docsPorVencer.fechaVencimiento, now) eq 3}">
                                                        <span class="status status-yellow"></span>
                                                    </ui:fragment>
                                                    <ui:fragment rendered="#{dateTimeBean.DaysBettwen(docsPorVencer.fechaVencimiento, now) lt 2}">
                                                        <span class="status status-red"></span>
                                                    </ui:fragment>   
                                                </p:column>
                                                <p:column headerText="Dias de Vencimiento">
                                                    <h:outputText value="#{dateTimeBean.DaysBettwen(docsPorVencer.fechaVencimiento, now)}" />
                                                </p:column>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docsPorVencer.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsPorVencer.fechaCreacion}" >
                                                        <f:convertDateTime type="date" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Fecha de vencimiento">
                                                    <h:outputText value="#{docsPorVencer.fechaVencimiento}" >
                                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsPorVencer.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsPorVencer.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsPorVencer.destinatario.nombres} #{docsPorVencer.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsPorVencer.detalle}" />
                                                </p:column>
                                                <p:column headerText="Acciones">
                                                    <p:commandLink type="button" title="Responder" action="#{cartaBean.loadDocumento(docsPorVencer)}" disabled="#{not docsPorVencer.tipoDocumento.requiereRespuesta}" update=":dlgResponder"><span class="glyphicon fa fa-fw fa-reply" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();" action="#{documentViewerBean.showDocument(docsPorVencer)}" update=":dlgVisor" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Prestamo" action="#{prestamoBean.loadDocumento(docsPorVencer)}" update=":dlgPrestamo :enPrestamo"><span class="glyphicon fa fa-fw fa-share-alt" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadDocumento(docsPorVencer)}" ><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"/></p:commandLink>                                               
                                                    <p:commandLink type="button" title="Redireccionar" action="#{redireccionarBean.loadDocumento(docsPorVencer)}" update=":dlgDevolver"  ><span class="glyphicon fa fa-fw fa-random" aria-hidden="true"/></p:commandLink>
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                    <div id="menuTab5" class="col-xs-12 tab-pane fade">
                                        <ul class="nav nav-tabs">
                                            <li><a data-toggle="tab" href="#pmenuTab0">Actas</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab1">Cartas</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab2">Certificados</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab3">Circulares</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab4">Comunicaciones</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab5">Contantancias</a></li>
                                            <li><a data-toggle="tab" href="#pmenuTab6">Informes</a></li>
                                        </ul>
                                        <div class="tab-content">
                                            <div id="pmenuTab0" class="col-xs-12 tab-pane fade">
                                                <h:form id="actaPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="actaPorFirmar" id="actas" var="acta" value="#{documentosBean.actasPorFirmar}" style="margin-bottom:0" 
                                                                 rows="10"
                                                                 paginator="true"  
                                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" 
                                                                 emptyMessage="¡No se encontraron actas por firmar!" 
                                                                 sortBy="#{acta.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="actas" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{acta.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{acta.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Asunto">
                                                            <h:outputText value="#{acta.convocatoria}" />
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{acta.desarrollo}" />
                                                        </p:column>
                                                        <p:column headerText="Presidente">
                                                            <h:outputText value="#{acta.presidente.nombres} #{acta.presidente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(1, acta.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(1, acta.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar"  action="#{actaBean.editarActa(acta)}"  update=":dlgEditarActa messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>  
                                                            <p:commandLink type="button" title="Firmar"  id="firActa" action="#{actaBean.firmarActa(acta)}"  update=":dlgFirmarActa messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>  
                                                            <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();" action="#{actaViewBean.showDocument(acta)}" update=":dlgVisorActa messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con"  action="#{compartirBean.loadActa(acta)}" update=":dlgCompartirActa messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab1" class="col-xs-12 tab-pane fade">
                                                <h:form id="cartaPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="cartasPorFirmar" id="cartas" var="carta" value="#{documentosBean.cartaPorFirmar}" style="margin-bottom:0" 
                                                                 rows="15"
                                                                 paginator="true"  
                                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15,20,30,50" emptyMessage="¡No se encontraron cartas por firmar!"
                                                                 sortBy="#{carta.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="cartas" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{carta.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de recepción">
                                                            <h:outputText value="#{carta.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Destinatario">
                                                            <h:outputText value="#{carta.destinatario}" />
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{carta.remitente.nombres} #{carta.remitente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Asunto">
                                                            <h:outputText value="#{carta.asunto}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(2, carta.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(2, carta.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar" action="#{cartaBean.editarCarta(carta)}"  update=":dlgEditarCarta messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firCarta" action="#{cartaBean.firmarCarta(carta)}"  update=":dlgFirmarCarta messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{cartaViewBean.showDocument(carta)}" update=":dlgVisorCarta messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadCarta(carta)}" update=":dlgCompartirCarta messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab2" class="col-xs-12 tab-pane fade">
                                                <h:form id="certificadoPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="certificadosPorFirmar" id="certificados" var="cert" value="#{documentosBean.certificadoPorFirmar}" style="margin-bottom:0" rows="10"
                                                                 paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron certificados por firmar!"
                                                                 sortBy="#{cert.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="certificados" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{cert.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{cert.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{cert.remitente.nombres} #{cert.remitente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(3, cert.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(3, cert.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar" action="#{certificadoBean.editarCertificado(cert)}" update=":dlgEditarCertificado messages" ><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firCert" action="#{certificadoBean.firmarCertificado(cert)}"  update=":dlgFirmarCertificado messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{certificadoViewBean.showDocument(cert)}" update=":dlgVisorCertificado messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadCertificado(cert)}" update=":dlgCompartirCertificado messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab3" class="col-xs-12 tab-pane fade">
                                                <h:form id="circularPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="circularesPorFirmar" id="circulares" var="cir" value="#{documentosBean.circularPorFirmar}" style="margin-bottom:0" rows="10"
                                                                 paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron circulares por firmar!"
                                                                 sortBy="#{cir.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="circulares" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{cir.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{cir.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Grupo Detinatario">
                                                            <h:outputText value="#{cir.grupoDestinatario}" />
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{cir.remitente.nombres} #{cir.remitente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(4, cir.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(4, cir.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar" action="#{circularBean.editarCircular(cir)}"  update=":dlgEditarCircular messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firCir" action="#{circularBean.firmarCircular(cir)}"  update=":dlgFirmarCircular messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{circularViewBean.showDocument(cir)}" update=":dlgVisorCircular messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadCircular(cir)}" update=":dlgCompartirCircular messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab4" class="col-xs-12 tab-pane fade">
                                                <h:form id="comunicacionPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="comunicadosPorFirmas" id="comunicaciones" var="com" value="#{documentosBean.comunicadoPorFirmar}" style="margin-bottom:0" rows="10"
                                                                 paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron comunicados por firmar!"
                                                                 sortBy="#{com.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="comunicaciones" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{com.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{com.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Asunto">
                                                            <h:outputText value="#{com.asunto}" />
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{com.destinatario.nombres} #{com.destinatario.nombres}" />
                                                        </p:column>
                                                        <p:column headerText="Destinarario">
                                                            <h:outputText value="#{com.destinatario.nombres} #{com.destinatario.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(5, com.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(5, com.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar"  action="#{comunicacionBean.editarComunicacion(com)}"  update=":dlgEditarComunicacion messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firComu" action="#{comunicacionBean.firmarComunicacion(com)}"  update=":dlgFirmarComunicacion messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{comunicacionViewBean.showDocument(com)}" update="dlgVisorComunicacion messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadComunicacion(com)}" update=":dlgCompartirComunicacion messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab5" class="col-xs-12 tab-pane fade">
                                                <h:form id="constanciaPorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="constanciasPorFirmar" id="constancias" var="cons" value="#{documentosBean.constanciaPorFirmar}" style="margin-bottom:0" rows="10"
                                                                 paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron constancias por firmar!"
                                                                 sortBy="#{cons.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="constancias" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{cons.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{cons.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{cons.remitente.nombres} #{cons.remitente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(6, cons.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(6, cons.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar" action="#{constanciaBean.editarConstancia(cons)}"  update=":dlgEditarConstancia messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firConst" action="#{constanciaBean.firmarConstancia(cons)}"  update=":dlgFirmarConstancia messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{constanciaViewBean.showDocument(cons)}" update="dlgVisorConstancia messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadConstancia(cons)}" update=":dlgCompartirConstancia messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                            <div id="pmenuTab6" class="col-xs-12 tab-pane fade">
                                                <h:form id="informePorFirmar" enctype="multipart/form-data">
                                                    <p:dataTable widgetVar="informesPorFirmar" id="informes" var="inf" value="#{documentosBean.informePorFirmar}" style="margin-bottom:0" rows="10"
                                                                 paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron informes por firmar!"
                                                                 sortBy="#{inf.fechaCreacion}" sortOrder="descending">
                                                        <f:facet name="header">
                                                            <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                            <p:columnToggler datasource="informes" trigger="toggler" />
                                                        </f:facet>
                                                        <p:column headerText="Radicado">
                                                            <h:outputText value="#{inf.consecutivo}" />
                                                        </p:column>
                                                        <p:column headerText="Fecha de creación">
                                                            <h:outputText value="#{inf.fechaCreacion}" >
                                                                <f:convertDateTime type="date" locale="es"/>
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Objetivo">
                                                            <h:outputText value="#{inf.objetivo}" />
                                                        </p:column>
                                                        <p:column headerText="Remitente">
                                                            <h:outputText value="#{inf.remitente.nombres} #{inf.remitente.apelidos}" />
                                                        </p:column>
                                                        <p:column headerText="Comentarios" style="text-align: center;">
                                                            <h:outputText value="#{comentarioBean.coutComentsByTipo(7, inf.id)}" />
                                                        </p:column>
                                                        <p:column headerText="Acciones">
                                                            <p:commandLink type="button" title="Comentar" action="#{comentarioBean.loadDocumentPrd(7, inf.id)}" update=":dlgVisor messages"><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Editar" action="#{informeBean.editarInforme(inf)}"  update=":dlgEditarInforme messages"><span class="glyphicon fa fa-fw fa-pencil" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Firmar"  id="firInf" action="#{informeBean.firmarInforme(inf)}"  update=":dlgFirmarInforme messages"><span class="glyphicon fa fa-fw fa-pencil-square-o " aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{informeViewBean.showDocument(inf)}" update="dlgVisorInforme messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                            <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadInforme(inf)}" update=":dlgCompartirInforme messages"><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"></span></p:commandLink>
                                                        </p:column>
                                                    </p:dataTable>
                                                </h:form>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="menuTab6" class="col-xs-12 tab-pane fade">
                                        <h:form id="porArchivar" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="PorArchivar" id="lstDocsPorArchivados" var="docsPorArchivar" value="#{documentosBean.sinArchivar}" style="margin-bottom:0" rows="50"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15,20,30,50" emptyMessage="¡No se encontraron documentos sin archivar!"
                                                         sortBy="#{docsPorArchivar.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsPorArchivados" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docsPorArchivar.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsPorArchivar.fechaCreacion}" >
                                                        <f:convertDateTime type="date" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsPorArchivar.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsPorArchivar.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsPorArchivar.destinatario.nombres} #{docsPorArchivar.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsPorArchivar.detalle}" />
                                                </p:column>
                                                <p:column headerText="Acciones">
                                                    <p:commandLink type="button" title="Archivar" action="#{archivarBean.loadDocumento(docsPorArchivar)}" update=":dlgArchivar messages" disabled="#{docsPorArchivar.estado eq 10 }" ><span class="glyphicon fa fa-fw fa-folder" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" onstart="PF('statusDialog').show();" title="Ver" action="#{documentViewerBean.showDocument(docsPorArchivar)}" update=":dlgVisor messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Prestamo" action="#{prestamoBean.loadDocumento(docsPorArchivar)}" update=":dlgPrestamo messages"><span class="glyphicon fa fa-fw fa-share-alt" aria-hidden="true"/></p:commandLink>
                                                    <p:commandLink type="button" title="Compartir con" action="#{compartirBean.loadDocumento(docsPorArchivar)}" update=":dlgCompartir messages" ><span class="glyphicon fa fa-fw fa-users" aria-hidden="true"/></p:commandLink>                                               
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                    <div id="menuTab7" class="col-xs-12 tab-pane fade">
                                        <h:form id="compartido" enctype="multipart/form-data">
                                            <p:dataTable widgetVar="Compartido" id="lstDocsCompartidos" var="docsCompartidos" value="#{documentosBean.documentos}" style="margin-bottom:0" rows="10"
                                                         paginator="true"  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15" emptyMessage="¡No se encontraron documentos compartidos!" 
                                                         sortBy="#{docsCompartidos.fechaCreacion}" sortOrder="descending">
                                                <f:facet name="header">
                                                    <p:commandButton id="toggler" type="button" value="Columnas" style="float:right" icon="ui-icon-calculator" />
                                                    <p:columnToggler datasource="lstDocsCompartidos" trigger="toggler" />
                                                </f:facet>
                                                <p:column headerText="Radicado">
                                                    <h:outputText value="#{docsCompartidos.consecutivo}" />
                                                </p:column>
                                                <p:column headerText="Fecha de recepción">
                                                    <h:outputText value="#{docsCompartidos.fechaCreacion}" >
                                                        <f:convertDateTime type="date" pattern="dd-MM-yyyy" locale="es"/>
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Asunto">
                                                    <h:outputText value="#{docsCompartidos.asunto}" />
                                                </p:column>
                                                <p:column headerText="Remitente">
                                                    <h:outputText value="#{docsCompartidos.remitente}" />
                                                </p:column>
                                                <p:column headerText="Destinarario">
                                                    <h:outputText value="#{docsCompartidos.destinatario.nombres} #{docsArchivados.destinatario.apelidos}" />
                                                </p:column>
                                                <p:column headerText="Detalle">
                                                    <h:outputText value="#{docsCompartidos.detalle}" />
                                                </p:column>
                                                <p:column headerText="Comentarios" style="text-align: center;">
                                                    <h:outputText value="#{comentarioBean.coutComents(docsCompartidos)}" />
                                                </p:column>
                                                <p:column headerText="Acciones">
                                                    <p:commandLink type="button" title="Ver" onstart="PF('statusDialog').show();" action="#{documentViewerBean.showDocument(docsCompartidos)}" update=":dlgVisor messages" onsuccess="PF('statusDialog').hide()"><span class="glyphicon fa fa-fw fa-eye" aria-hidden="true"></span></p:commandLink>
                                                    <p:commandLink type="button" title="Comentar" actionListener="#{comentarioBean.loadDocument(docsCompartidos)}" update=":dlgComentar messages" ><span class="glyphicon fa fa-fw fa-comments" aria-hidden="true"></span></p:commandLink>
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p:dialog id="dlgArchivar" header="Archivar" widgetVar="denArchivar" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true">
                        <p:ajax event="close" update=":enviados :porArchivar"/>
                        <h:form>
                            <ui:include src="archivar.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgPrestamo" header="Préstamo de documentos" widgetVar="denPrestamo" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":entrantes :enviados :enPrestamo :porVencer :porArchivar" />
                        <h:form>
                            <ui:include src="prestamo.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgResponder" header="Responder" widgetVar="denResponder" modal="true" showEffect="fade" hideEffect="fade" resizable="false" closable="true" rendered="true" dynamic="true" width="60%" height="400" maximizable="true">
                        <p:ajax event="close" update=":entrantes :porVencer" />
                        <h:form>
                            <ui:include src="../produccion/carta.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgDevolver" header="Redireccionar" widgetVar="denRedireccionar" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":entrantes :porVencer" />
                        <h:form>
                            <ui:include src="redireccionar.xhtml">
                            </ui:include>
                        </h:form>   
                    </p:dialog>
                    <p:dialog id="dlgReintegro" header="Reintegrar" widgetVar="denReintegro" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="25%" height="100">
                        <p:ajax event="close" update=":enPrestamo :entrantes" />
                        <h:form>
                            <div>
                                <p:outputLabel>Para reintegrar el documento debe ingresar al panel control de documentos</p:outputLabel>
                                <br />  
                                <br />  
                                <a type="button" href="controlPrestamos.xhtml">IR A CONTROL DE PRESTAMOS</a>
                            </div>
                        </h:form>   
                    </p:dialog>
                    <p:dialog id="dlgCompartir" header="Compartir documento" widgetVar="denCompartir" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":entrantes :enviados :porVencer :porArchivar" />
                        <h:form>
                            <ui:include src="compartir.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgCompartirActa" header="Compartir Acta" widgetVar="denCompartirActa" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":actaPorFirmar" />
                        <h:form>
                            <ui:include src="compartirActa.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarActa" header="Editar Acta" widgetVar="denEditarActa" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":actaPorFirmar" />
                        <h:form>
                            <ui:include src="editarActa.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarActa" header="FIRMAR" widgetVar="denFirmarActa" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Debera imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarActa').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{actaBean.imprimir()}" update=":dlgVisorActa" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirCarta" header="Compartir Carta" widgetVar="denCompartirCarta" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":cartaPorFirmar" />
                        <h:form>
                            <ui:include src="compartirCarta.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarCarta" header="Editar Carta" widgetVar="denEditarCarta" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":cartaPorFirmar" />
                        <h:form>
                            <ui:include src="editarCarta.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarCarta" header="FIRMAR" widgetVar="denFirmarCarta" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Debera imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarCarta').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{cartaBean.imprimir()}" update=":dlgVisorCarta" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirCertificado" header="Compartir Certificado" widgetVar="denCompartirCertificado" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":certificadoPorFirmar" />
                        <h:form>
                            <ui:include src="compartirCertificado.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarCertificado" header="Editar Certificado" widgetVar="denEditarCertificado" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":certificadoPorFirmar" />
                        <h:form>
                            <ui:include src="editarCertificado.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                     <p:dialog id="dlgFirmarCertificado" header="FIRMAR" widgetVar="denFirmarCertificado" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Debera imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarCertificado').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{certificadoBean.imprimir()}" update=":dlgVisorCertificado" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirCircular" header="Compartir Circular" widgetVar="denCompartirCircular" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":circularPorFirmar" />
                        <h:form>
                            <ui:include src="compartirCircular.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarCircular" header="Editar Circular" widgetVar="denEditarCircular" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":circularPorFirmar" />
                        <h:form>
                            <ui:include src="editarCircular.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarCircular" header="FIRMAR" widgetVar="denFirmarCircular" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Deberá imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarCircular').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{circularBean.imprimir()}" update=":dlgVisorCircular" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirComunicacion" header="Compartir Comunicación" widgetVar="denCompartirComunicacion" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":comunicacionPorFirmar" />
                        <h:form>
                            <ui:include src="compartirComunicacion.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarComunicacion" header="Editar Circular" widgetVar="denEditarComunicacion" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":comunicacionPorFirmar" />
                        <h:form>
                            <ui:include src="editarComunicacion.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarComunicacion" header="FIRMAR" widgetVar="denFirmarComunicacion" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Deberá imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarComunicacion').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{comunicacionBean.imprimir()}" update=":dlgVisorComunicacion" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirConstancia" header="Compartir Constancia" widgetVar="denCompartirConstancia" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":constanciaPorFirmar" />
                        <h:form>
                            <ui:include src="compartirConstancia.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgEditarConstancia" header="Editar Constancia" widgetVar="denEditarConstancia" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":constanciaPorFirmar" />
                        <h:form>
                            <ui:include src="editarConstancia.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarConstancia" header="FIRMAR" widgetVar="denFirmarConstancia" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Deberá imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarConstancia').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{constanciaBean.imprimir()}" update=":dlgVisorConstancia" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgCompartirInforme" header="Compartir Informe" widgetVar="denCompartirInforme" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":informePorFirmar" />
                        <h:form>
                            <ui:include src="compartirInforme.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                     <p:dialog id="dlgEditarInforme" header="Editar Informe" widgetVar="denEditarInforme" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" height="400">
                        <p:ajax event="close" update=":informePorFirmar" />
                        <h:form>
                            <ui:include src="editarInforme.xhtml">
                            </ui:include>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgFirmarInforme" header="FIRMAR" widgetVar="denFirmarInforme" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%" maximizable="true">
                        <div class="form-group row">
                            <p:outputLabel value="NOTA:"  class="col-xs-12" style="font-size: 24px; font-weight: bolder; color: orange"></p:outputLabel> 
                            <p:outputLabel class="col-xs-12" value="¡Deberá imprimirlo, firmarlo de modo manuscrito y entregarlo en ventanilla única!" style="font-size: 24px; font-weight: bolder; align-content: center;"/>
                        </div>
                        <div align="center">
                            <p:commandButton value="IMPRIMIR DOCUMENTO" style="background-color:#d9534f; width: 30%; height: 60px; color: #ffffff;" onstart="PF('denFirmarInforme').hide(); PF('statusDialog').show();" immediate="true" icon="ui-icon-disk" actionListener="#{informeBean.imprimir()}" update=":dlgVisorInforme" onsuccess="PF('statusDialog').hide()"></p:commandButton>
                        </div>                    
                    </p:dialog>
                    <p:dialog id="dlgComentar" header="Comentar" widgetVar="denComentar" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="60%"  maximizable="true">
                        <p:ajax event="close" update=":entrantes :enviados :porVencer :porArchivar :compartido :informePorFirmar :constanciaPorFirmar :comunicacionPorFirmar :circularPorFirmar :certificadoPorFirmar :cartaPorFirmar :actaPorFirmar" />
                        <h:form>
                            <ui:include src="comentar.xhtml"/>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisor" header="Visor de Documentos" widgetVar="denVisor" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true"  >
                        <p:ajax event="close" update=":entrantes :porEnviar :enviados :porVencer :porArchivar :compartido" />
                        <h:form>
                            <c:if test='#{documentViewerBean.content.contentType.equals("application/pdf")}'>
                                <pe:documentViewer id="documentCtl" height="800" cache="false" value="#{documentViewerBean.content}" />  
                            </c:if>
                            <c:if test='#{documentViewerBean.content.contentType.equals("application/octet-stream")}'>
                                <pe:documentViewer id="documentCtl" height="800" cache="false" value="#{documentViewerBean.content}" />  
                            </c:if>
                            <c:if test='#{documentViewerBean.content.contentType.equals("image/jpeg")}'>
                                <p:graphicImage height="800" cache="false" value="#{documentViewerBean.content}"/>  
                            </c:if>
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisor').hide()"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorActa" header="Visor de Actas" widgetVar="denVisorActa" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":actaPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlAct" height="800" value="#{actaViewBean.content}" />
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorActaFinal" header="Visor de Actas" widgetVar="denVisorActaFinal" modal="true" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                         <p:ajax event="close" update=":actaPorFirmar" />
                        <h:form> 
                            <pe:documentViewer id="documentCtlActa" height="480" value="#{actaViewBean.content}" />
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorActaFinal').hide(); PF('denEditarActa').hide()"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCarta" header="Visor de Cartas" widgetVar="denVisorCarta" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":cartaPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlCarta" height="800" value="#{cartaViewBean.content}" />
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCartaFinal" header="Visor de Cartas" widgetVar="denVisorCartaFinal" modal="true" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                         <p:ajax event="close" update=":cartaPorFirmar" />
                        <h:form> 
                            <pe:documentViewer id="documentCtlCarta" height="480" value="#{cartaViewBean.content}" />
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorCartaFinal').hide(); PF('denEditarCarta').hide()"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCertificado" header="Visor de Certificados" widgetVar="denVisorCertificado" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":certificadoPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlCertificado" height="800" value="#{certificadoViewBean.content}" />                           
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCertificadoFinal" header="Visor de Certificados" widgetVar="denVisorCertificadoFinal" modal="true" closable="false" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                        <h:form>
                            <pe:documentViewer id="documentCtlCertificado" height="480" value="#{certificadoViewBean.content}" />  
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorCertificadoFinal').hide(); PF('denEditarCertificado').hide()" update="@form :certificadoPorFirmar"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCircular" header="Visor de Circulares" widgetVar="denVisorCircular" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":circularPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlCircular" height="800" value="#{circularViewBean.content}" />                            
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorCircularFinal" header="Visor de Circulares" widgetVar="denVisorCircularFinal" modal="true" closable="false" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                        <h:form>
                            <pe:documentViewer id="documentCtlCircular" height="480" value="#{circularViewBean.content}" />  
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorCircularFinal').hide(); PF('denEditarCircular').hide()" update="@form :circularPorFirmar"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorComunicacion" header="Visor de Comunicaciones" widgetVar="denVisorComunicacion" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":comunicacionPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlComunicacion" height="800" value="#{comunicacionViewBean.content}" />
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorComunicacionFinal" header="Visor de Comunicaciones" widgetVar="denVisorComunicacionFinal" modal="true" closable="false" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                        <h:form>
                            <pe:documentViewer id="documentCtlComunicacion" height="480" value="#{comunicacionViewBean.content}" />  
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorComunicacionFinal').hide(); PF('denEditarComunicacion').hide()" update="@form :comunicacionPorFirmar"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorConstancia" header="Visor de Constancias" widgetVar="denVisorConstancia" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":constanciaPorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlConstancia" height="800" value="#{constanciaViewBean.content}" />
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorConstanciaFinal" header="Visor de Constancias" widgetVar="denVisorConstanciaFinal" modal="true" closable="false" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                        <h:form>
                            <pe:documentViewer id="documentCtlConstancia" height="480" value="#{constanciaViewBean.content}" />  
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorConstanciaFinal').hide(); PF('denEditarConstancia').hide()" update="@form :constanciaPorFirmar"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorInforme" header="Visor de Informes" widgetVar="denVisorInforme" modal="true" showEffect="fade" hideEffect="fade" resizable="false" dynamic="true" width="80%" maximizable="true" >
                        <p:ajax event="close" update=":informePorFirmar" />
                        <h:form>
                            <pe:documentViewer id="documentCtlInforme" height="800" value="#{informeViewBean.content}" />
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgVisorInformeFinal" header="Visor de Informes" widgetVar="denVisorInformeFinal" modal="true" closable="false" showEffect="fade" hideEffect="fade" resizable="true" dynamic="true" width="80%" height="500" maximizable="true" >
                        <h:form>
                            <pe:documentViewer id="documentCtlInforme" height="480" value="#{informeViewBean.content}" />  
                            <div>
                                <p:commandButton icon="fa fa-fw fa-times" value="Cerrar" immediate="true" oncomplete="PF('denVisorInformeFinal').hide(); PF('denEditarInforme').hide()" update="@form :informePorFirmar"></p:commandButton>
                            </div>
                        </h:form>
                    </p:dialog>
                    <p:dialog id="dlgRadicado" header="Radicado" widgetVar="denRadicado" modal="true" showEffect="fade" hideEffect="fade" resizable="true" width="80%" height="500px" dynamic="true" style="overflow:auto;">
                        <ui:include src="../procesos/newRadicadoSalida.xhtml">
                        </ui:include>
                    </p:dialog>
                    <p:dialog id="dlgCompletarDoc" header="Envio de Documentos" widgetVar="denEnvio" modal="true" showEffect="fade" hideEffect="fade" resizable="true" width="90%" height="550px" dynamic="true" responsive="true"  closable="true">
                        <p:ajax event="close" update=":porEnviar" />
                        <ui:include src="../procesos/envio.xhtml">
                        </ui:include>
                    </p:dialog>
                    <p:dialog id="dlgPlanillaEnvio" header="Planilla de documentos para enviar" widgetVar="planillaEnvioDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="true" width="80%" height="500px" dynamic="true" style="overflow:auto;">
                        <p:outputPanel id="planillaEnvio" style="text-align:center;" >
                            <h:form>
                                <p:dataTable widgetVar="SeleccionadosPorEnviar" id="lstDocsSelPorEnviar" var="docsSelPorEnviar" value="#{documentosBean.seleccionadosPorEnviar}" style="margin-bottom:0" rows="15">
                                    <f:facet name="header">
                                        <h:commandLink value="Exportar a Excel">
                                            <p:graphicImage name="/demo/images/excel.png" width="24"/>
                                            <p:dataExporter type="xls" target="lstDocsSelPorEnviar" fileName="envios" />
                                        </h:commandLink>
                                    </f:facet>

                                    <p:column headerText="Radicado">
                                        <h:outputText value="#{docsSelPorEnviar.radicadoEnvio}" />
                                    </p:column>
                                    <p:column headerText="Fecha del Documento">
                                        <h:outputText value="#{docsSelPorEnviar.fechaCreacion}" >
                                            <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Asunto">
                                        <h:outputText value="#{docsSelPorEnviar.asunto}" />
                                    </p:column>
                                    <p:column headerText="Destinarario">
                                        <h:outputText value="#{docsSelPorEnviar.remitenteExteno}" />
                                    </p:column>
                                    <p:column headerText="Remitente">
                                        <h:outputText value="#{docsSelPorEnviar.destinatario.nombres} #{docsSelPorEnviar.destinatario.apelidos}" />
                                    </p:column>
                                    <p:column headerText="Detalle">
                                        <h:outputText value="#{docsSelPorEnviar.detalle}" />
                                    </p:column>
                                    <p:column headerText="Transportador">
                                        <h:outputText value="#{docsSelPorEnviar.transportador.nombre}" />
                                    </p:column>
                                    <p:column headerText="Medio de Envio">
                                        <h:outputText value="#{docsSelPorEnviar.medioEnvio.nombre}" />
                                    </p:column>
                                    <p:column headerText="Firma">
                                        <h:outputText value="" />
                                    </p:column>
                                </p:dataTable>
                            </h:form>
                        </p:outputPanel>
                    </p:dialog>                    
                    <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                        <p:graphicImage value="../../images/ajaxloading.gif"/>
                    </p:dialog>
                    <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                        <p:graphicImage value="../../images/ajaxloading.gif"/>
                    </p:dialog>
                </c:if>
                <c:if test="#{autorizationBean.hasAccess('paneldocumentos') == false}">
                    <h3>¡Lo sentimos, no tiene acceso a este módulo!</h3>
                </c:if>
            </ui:define>
        </ui:composition>
    </body>

</html>
