<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>
        <ui:composition template="./../../Template/plantilla.xhtml">
            <ui:define name="content">
                <p:growl id="messages"  showDetail="true" />
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Recepción de Documento<small>Digitalización o Carga</small></h2>
                        <div class="clear"></div>
                    </div>
                    <div class="x_content">
                        <h:form>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="tipoDocumentoExterno">Tipo Documento<span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="tipoDocumentoExterno" var="" value="#{recepcionBean.documento.tipoDocumento}" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione el tipo de documento" itemValue="#{null}" />
                                            <f:selectItems value="#{recepcionBean.tipoDocumentos}" var="tipoDocumento" itemLabel="#{tipoDocumento.nombre}" itemValue="#{tipoDocumento.id}" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="last-name">Fecha <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:calendar id="fechaRecepcion" value="#{recepcionBean.documento.fechaCreacion}" showOn="button" locale="es" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="remitente">Remitente <span class="required">*</span>
                                    </label>
                                    <div class="col-md-7">
                                        <p:inputText value="#{recepcionBean.documento.remitente}" id="remitente"/>
                                    </div>
                                    <div class="col-md-1">
                                        <p:button icon="ui-icon-pencil" title="Nuevo Remitente"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="last-name">Destinatario <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="Destinatario" value="#{recepcionBean.documento.destinatario}" filter="true" filterMatchMode="startsWith" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione un destinatario" itemValue="#{null}" />
                                            <f:selectItems value="#{recepcionBean.usuarios}" var="usuario" itemLabel="#{usuario.nombres} #{usuario.apelidos} - #{usuario.cargo.nombre}" itemValue="#{usuario.id}" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="conCopia">Con Copia a <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectManyMenu id="conCopia" var="u" filter="true" filterMatchMode="contains" showCheckbox="true" style="width: 100%" scrollHeight="50">
                                            <f:selectItems value="#{recepcionBean.usuarios}" var="usrCopia" itemLabel="#{usrCopia.nombres}" itemValue="#{usrCopia}"/>
                                            <p:column>
                                                <h:outputText value="#{u.nombres} #{u.apelidos} - #{u.cargo.nombre}"/>
                                            </p:column>
                                        </p:selectManyMenu>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="entidad">Entidad <span class="required">*</span>
                                    </label>
                                    <div class="col-md-7">
                                        <p:selectOneMenu id="entidad" var="#{recepcionBean.documento.entidad}" filter="true" filterMatchMode="contains" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione una entidad" itemValue="#{null}" />
                                            <f:selectItems value="#{entidadBean.entidades}" var="entidad" itemLabel="#{entidad.nombre}" itemValue="#{entidad}"/>
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="col-md-1">
                                        <p:button icon="ui-icon-pencil" title="Nueva Entidad"/>
                                    </div>
                                </div>

                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="last-name">Requiere Respuesta <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputSwitch value="#{recepcionBean.documento.requiereRespuesta}"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="direccion">Direccion <span class="required">*</span></label>
                                    <div class="col-md-8">
                                        <p:inputText id="direccion" value="#{recepcionBean.documento.direccion}" style="width: 100%"/>
                                    </div>
                                </div>  
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="pais">Pais <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="pais" value="#{recepcionBean.paisId}" 
                                                         filter="true" filterMatchMode="startsWith" style="width: 100%">
                                            <p:ajax listener="#{recepcionBean.onPaisChange}" update="departamento" />
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione un pais" itemValue="#{null}" />
                                            <f:selectItems value="#{recepcionBean.paises}" var="pais" itemLabel="#{pais.nombre}" itemValue="#{pais.id}" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>

                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="departamento">Departamento/Estado <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="departamento" value="#{recepcionBean.departamentoId}" filter="true" 
                                                         filterMatchMode="startsWith" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione un departamento" itemValue="#{null}" />
                                            <f:selectItems value="#{recepcionBean.depatamentos}" var="departamento" itemLabel="#{departamento.name}" itemValue="#{departamento.id}" />
                                            <p:ajax update="municipio" listener="#{recepcionBean.onDepartamentoChange}" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="municipio">Municipio <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="municipio" value="#{recepcionBean.municipioId}" filter="true" 
                                                         filterMatchMode="startsWith" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione un municipio" itemValue="#{null}" />
                                            <f:selectItems value="#{recepcionBean.municipios}" var="municipio" itemLabel="#{municipio.nombre}" itemValue="#{municipio.id}" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="codigoPostal">Codigo Postal<span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputText id="codigoPostal" value="#{recepcionBean.documento.codigoPostal}" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="anexos">Anexos <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputSwitch id="anexos" value="#{recepcionBean.documento.anexos}" />
                                    </div>
                                </div>
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="folios">Folios <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputNumber id="folios" value="#{recepcionBean.documento.folios}" decimalPlaces="0" minValue="0" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                            <div  class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="libros">Libros <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputNumber id="libros" value="#{recepcionBean.documento.libros}" decimalPlaces="0" minValue="0" style="width: 100%"/>
                                    </div>
                                </div>
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="medioEnvio">Medio de Envio <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:selectOneMenu id="medioEnvio" value="" filter="true" filterMatchMode="startsWith" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione un medio de envio" itemValue="#{null}" />
                                            <f:selectItem itemLabel="Correo Electrónico" itemValue="Correo Electrónico" />
                                            <f:selectItem itemLabel="Correo Certificado" itemValue="Correo Certificado" />
                                            <f:selectItem itemLabel="Entrega Directa" itemValue="Entrega Directa" />

                                        </p:selectOneMenu>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class="col-md-4" for="tercero">Empresa/Tercero <span class="required">*</span>
                                    </label>
                                    <div class="col-md-7">
                                        <p:selectOneMenu id="tercero" value="#{recepcionBean.documento.transportador}" filter="true" filterMatchMode="startsWith" style="width: 100%">
                                            <f:selectItem noSelectionOption="true" itemLabel="Seleccione una Empresa/Tercero " itemValue="#{null}" />
                                            <f:selectItems value="#{transportadorBean.transportadores}" var="transportador" itemLabel="#{transportador.nombre}" itemValue="#{transportador}" />
                                        </p:selectOneMenu>

                                    </div>
                                    <div class="col-md-1">
                                        <p:button icon="ui-icon-pencil" title="Nuevo Tercero"/>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-md-offset-6"></div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4">Adjuntar Documento</label>
                                    <div class="col-md-8">
                                        <p:fileUpload fileUploadListener="#{recepcionBean.documentFile}" mode="advanced" dragDropSupport="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf)$/" style="width: 100%"/>
                                    </div>
                                </div>
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4">Adjuntar Folios</label>
                                    <div class="col-md-8">
                                        <p:fileUpload fileUploadListener="#{recepcionBean.foliosFile}" mode="advanced" dragDropSupport="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf)$/" style="width: 100%"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6 form-group">
                                    <label class=" col-md-4" for="asunto">Asunto <span class="required">*</span>
                                    </label>
                                    <div class="col-md-8">
                                        <p:inputText id="asunto" value="#{recepcionBean.documento.asunto}" style="width: 100%"/>
                                    </div>
                                </div>

                                <div class="col-xs-6 col-md-offset-6"></div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12 form-group">
                                    <label class=" col-md-2" for="detalle">Detalle <span class="required">*</span>
                                    </label>
                                    <div class="col-md-10">
                                        <p:inputTextarea id="detalle" value="#{recepcionBean.documento.detalle}" rows="6" cols="220" style="width: 100%" counter="counter" maxlength="600" counterTemplate="{0} characters remaining." autoResize="false" />
                                        <h:outputText id="counter" />
                                    </div>
                                </div>
                            </div>
                            <div class="ln_solid"></div>
                            <div class="form-group">
                                <div class="col-md-3 col-sm-3 col-xs-12 col-md-offset-9">
                                    <p:commandButton  value="Radicar" icon="ui-icon-disk"  />
                                    <p:commandButton value="Cancelar" immediate="true" ></p:commandButton>
                                </div>
                            </div>
                        </h:form>
                    </div>    
                </div>
            </ui:define>
        </ui:composition>
    </body>
</html>
